# tag S and L

| Version | Release Date    | Changes |
|---------|--------------|---------|
| V3.3.2 | 2025-07-17    | <ul><li>Disable GPS internal LNA for quicker time to first fix (ttf)</li><li>Improve wake up strategy to avoid LoRWAN transmission when GPS fix is active</li></ul> |
| V3.3.1 | 2025-06-02    | <ul><li>Extending port 198 reset uplink watchdog reset reason</li></ul> |
| V3.3.0 | 2025-05-19    | <ul><li>Change port 198 uplink to add assert location in case of a watchdog reset in “[LINE NUMBER in ASCII]:[FILE]:[FUNCTION]” format.</li></ul> |
| V3.2.3 | 2025-01-17 | <ul><li>Fix unexpected reset issue due to bloated interrupt routines</li><li>Fix Uart driver issue between MCU and GNSS module when BLE</li><li>scanning is activated</li><li>Fix status byte counter reset value after overflowing (0 à 1)</li><li>Set up config DL boundaries to avoid invalid values for certain</li><li>intervals</li><li>Add backward compatibility for shorter config DL (25 bytes)</li></ul> |
| V3.2.1 | 2024-11-12 | <ul><li>Fix moving flag in timestamped Wi-Fi messages (port 7)</li></ul> |
| V3.2.0 | 2024-11-07 | <ul><li>Add BLE scanning feature</li><li>Uplinks to sent BLE scanning related data: Port 3 – Scanned BLE beacons, Port 8 – Current BLE configurations</li><li>Downlinks to set BLE feature: Port 134 – BLE configurations, Port 135 - on demand BLE scan request</li><li>Add TTF, PDOP and number of satellites in GNSS uplink</li><li>Add option to set Batch number to 0, which disables buffering and does not sent any more confirmed uplinks</li></ul> |
| V3.1.3 | 2024-10-01 | <ul><li>Add DL option for tag L to disable buzzer when hall sensor is activated on port 133</li></ul> |
| V3.1.2 | 2024-09-27 | <ul><li>Detect variant tag S/L</li><li>Fix magnet/button distinction</li><li>Activate buzzer when hall sensor is activated instead of LED</li></ul> |
| V3.1.1 | 2024-09-24 | <ul><li>Fix DC flag on messages</li><li>Add erase flash DL on port 132, Add option to erase flash on deactivation DL</li></ul> |
| V3.1.0 | 2024-09-20 | <ul><li>Add melodies for join request/successful/failed, BLE enable/disable</li><li>New WiFi uplink messages containing timestamp (port 7) only sent</li><li>when timekeeping has been started by having a first GNSS fix after reset</li><li>Change advertised name to tag_S_XXXX</li><li>Fix OTA</li><li>Add configurable Batch and buffer size to config uplink</li><li>Increase watchdog counter to 64s</li></ul> |
| V3.0.0 | 2024-08-21 | <ul><li>Port code to EFR32BG22CXXXF512 MCU</li><li>Add MX25 External flash driver</li><li>Implement ring buffer</li><li>Remove reboot after 10 NO ACK</li><li>New Uplink structure</li><li>Remove NO-GNSS uplink (Port 2)</li><li>Remove Wi-Fi UL in case there are no access points (Port 5)</li><li>Introduce new GNSS uplink with UNIX timestamp (Port 10)</li><li>Combine GNSS and Wi-Fi message if # wifi access points &lt;= 4 (port</li><li>50)</li><li>Implement new WiFi uplink on port 105, if it is coming from the</li><li>cache (uplink enriched with timestamp + remaining messages in</li><li>buffer)</li><li>Implement new GNSS uplink 110, if it is coming from the cache</li><li>(uplink enriched with remaining messages in buffer)</li><li>Implement time-keeping on MCU</li><li>From GNSS fix</li><li>Buffering on application layer</li><li>Count how many messages in the cache, add it to new UL structure.</li><li>In case of no ACK push messages into buffer with timestamp</li><li>Batch number defining how often confirmed messages are sent</li><li>Offloading messages from the buffer happens every time batch number is reached</li><li>Offload messages from cache, every 30 seconds</li><li>Fix Join-loop when battery is almost depleted</li><li>Change default interval values for moving and steady (moving: 5mins, steady 1h)</li><li>Add reset on 10 sec button press</li></ul> |
| V2.1.0 | 2023-04-28 | <ul><li>Fix sometimes missing Battery UL messages</li><li>Fix Wi-Fi location UL max size</li><li>Enable bluetooth after 5sec button press for 5 minutes with LED feedback (3 blinks)</li><li>Add flag to status byte 7th bit if duty cycling limitations are close to be violated (&lt;10 sec airtime left)</li></ul> |
| V2.0.0 | 2023-03-07 | <ul><li>Add LED feedback on activation (OFF --&gt;5 sec button press--&gt;active)</li><li>Enable DC</li><li>10 NO ACK --&gt; re-join (reboot)</li><li>Add moving flag to GPS location UL first byte</li><li>Add moving flag to Wi-Fi location UL first byte</li><li>Add moving flag to NO GPS UL first byte</li><li>Battery message UL 2 bytes in mV</li><li>Config 4 bytes battery message period append to the end (DEFAULT:6h)</li><li>Add FW/HW version in heartbeat message 3byte/2byte</li><li>Trigger battery message once in case it is below a battery voltage (3.69 V)</li><li>Config DL: add new battery timer 32bit value</li><li>Add NVM default in case of FOTA</li><li>Add status byte [6:2] to WIFI, GPS, NO_GPS, Battery UL in case</li><li>config DL</li><li>Send status UL in case BLE is enabled/disabled</li></ul> |
| V1.3.2 | 2023-01-30 | <ul><li>Fix SPI issue causing WD reset</li><li>Add FW version to BLE characteristics</li></ul> |
| V1.3.1 | 2023-01-24 | <ul><li>Update default values</li><li>Add OTA .gbl files as part of the future releases</li></ul> |
| V1.3.0 | 2023-01-23 | <ul><li>Change buzzer frequency to new buzzer resonant frequency</li><li>Modify buzzer functionality, only activate buzzer on a specific</li><li>Downlink</li><li>Remove LoRaWAN keys from BLE characteristics, change advertised</li><li>name adding last 4 digits of DEVEUI</li><li>Add new pin configuration for new 2.4GHz RF switch</li><li>Battery measurement via ADC</li><li>Add OTA option via BLE</li><li>Add Battery measurement Uplink</li><li>Load Keys to NVM from Flash upon first flash (Production)</li></ul> |
| V1.2.1 | 2022-10-22 | <ul><li>Add SOS button triggering an instant Uplink</li><li>Add active flag to NVM in case of a reset, the device is still in</li><li>activated mode</li></ul> |
| V1.1.0 | 2022-08-09 | <ul><li>Functionalities as described in the Firmware specification document</li><li>Optimize NVM size</li><li>Add Flash section for LoRaWAN keys used for production</li><li>Add the option to run GPS longer after acquiring the first fix to improve GPS position accuracy</li><li>Add adjustable parameter for the GPS timeout after first fix via Downlink</li></ul> |
| V1.0.0 | 2022-07-28 | <ul><li>Initial release</li></ul> |